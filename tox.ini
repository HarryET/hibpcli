[tox]
envlist =
    py36,
    py37,
    py38,
    flake8,
    coverage

# this is necessary as no setup.py is present
skipsdist = True

[testenv]
deps =
    pytest
    flit
commands =
    flit install --symlink
    pytest {posargs}

[testenv:coverage]
deps =
    pytest
    pytest-cov
    flit
commands =
    flit install --symlink
    pytest --cov=hibpcli --cov=tests --cov-report term-missing  --cov-report html

[testenv:flake8]
deps =
    flake8
    flake8-click
commands =
    flake8 hibpcli tests

[flake8]
max-line-length = 88


[isort]
known_third_party = click,httpx,pykeepass,pytest
